import matplotlib.pyplot as plt #Se importa librería Matplotlib y se define la abreviación "plt".

#Inicio de evidencia sumatoria de los casos por regiones desde él 2021-06-14 hasta 2021-06-28.
#formato: 
#Región = sumaCasosTotalesUltimas2Semanas (Se evita usar suma por suma en el código, se realiza sumatoria por Excel).
regiones = ['Arica Y Parinacota', 'Tarapaca', 'Antofagasta', 'Atacama', 'Coquimbo', 'Valparaiso', 'Metropolitana', 'Ohiggins', 'Maule', 'Ñuble', 'Biobio', 'Araucania', 'Los Rios', 'Los Lagos', 'Aysen', 'Magallanes']
n_regiones = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]
opcion_graf = [1, 2, 3, 4, 5, 6]
#Regiones con sintomas
ari = 730 #Arica Y Parinacota.
tar = 673 #Tarapacá.
ant = 1101 #Antofagasta.
ata = 800 #Atacama.
coq = 2434 #Coquimbo.
val = 4818 #Valparaíso.
met = 20855 #Metropolitana.
ohg = 2396 #O’Higgins.
mau = 3336 #Maule. 
ñub = 1202 #Ñuble. 
bio = 4111 #Biobío.
ara = 2866 #Araucanía.
lr = 1554 #Los Riós.
lg = 1871 #Los Lagos.
ays = 434 #Aysén.
mag = 240 #Magallanes.
total_caso = 49421 #Sumatoria total de casos.
#Regiones sin sintomas
ari_sin = 379
tar_sin = 255
ant_sin = 623
ata_sin = 649
coq_sin = 721
val_sin = 1207
met_sin = 6064
ohg_sin = 761
mau_sin = 1217
ñub_sin = 334
bio_sin = 1043
ara_sin = 1178
lr_sin = 1155
lg_sin = 773
ays_sin = 284
mag_sin = 79    
total_sin = 16722



regiones_total = [ari, tar, ant, ata, coq, val, met, ohg, mau, ñub, bio, ara, lr, lg, ays, mag, ari_sin, tar_sin, ant_sin, ata_sin, coq_sin, val_sin, met_sin, ohg_sin, mau_sin, ñub_sin, bio_sin, ara_sin, lr_sin, lg_sin, ays_sin, mag_sin]

regiones_concontagio = [ari, tar, ant, ata, coq, val, met, ohg, mau, ñub, bio, ara, lr, lg, ays, mag]
regiones_sincontagio = [ari_sin, tar_sin, ant_sin, ata_sin, coq_sin, val_sin, met_sin, ohg_sin, mau_sin, ñub_sin, bio_sin, ara_sin, lr_sin, lg_sin, ays_sin, mag_sin]

regiones_convalores = [730, 673, 1101, 800, 2434, 4818, 20855, 2396, 3336, 1202, 4111, 2866, 1554, 1871, 434, 240]
regiones_sinvalores = [379, 255, 623, 649, 721, 1207, 6064, 761, 1217, 334, 1043, 1178, 1155, 773, 284, 79]

#Inicio print menú.

print(''' 
    Datos COVID-19
    
A continuación se mostrará la lista de regiones de Chile.
De esta lista debe escoger una región para mostrar un gráfico respectivo.

Hay dos tipos de gráficos:

- Gráfico de contagiados con síntomas no acumulativos en las últimas 2 semanas.
- Gráfico de contagiados con síntomas acumulativos en las últimas 2 semanas.

Regiones: 

1) Arica Y Parinacota
2) Tarapaca
3) Antofagasta
4) Atacama
5) Coquimbo
6) Valparaíso
7) Metropolitana
8) Ohiggins
9) Maule
10) Ñuble
11) Biobio
12) Araucania
13) Los Rios
14) Los Lagos
15) Aysen
16) Magallanes
       
''') #Fin print menú.

op = input("Ingrese nombre o índice correspondiente de la región: ")   #input de región.
op = op.replace(" ", "")
if op.isnumeric():
    op = int(op)
    if op in n_regiones and op > 0 and op < 17:  #Verificar que el indice de región corresponda a la región seleccionada.
        print("Ha seleccionado la región: ", regiones[op - 1]) #Imprimir e indexar región correspondiente.
        while True: 
            print('''
               ¿Qué información desea visualizar?:
                1) Gráfico de contagiados con síntomas no acumulativos.
                2) Gráfico de contagiados con síntomas acumulativos.
                3) Región con más y menos contagiados con síntomas no acumulativos.
                4) Región con más y menos contagiados con síntomas acumulativos.
                5) Información de la región seleccionada. 
                6) Salir. 
                ''')

            op_graf = input("Ingrese tipo de gráfico (1 - 6): ")#Input de opción gráfico
            op_graf = op_graf.replace(" ", "")
            while not op_graf.isnumeric():
                print('''Error, ingrese un índice válido
                      
               ¿Qué información desea visualizar?:
                1) Gráfico de contagiados con síntomas no acumulativos.
                2) Gráfico de contagiados con síntomas acumulativos.
                3) Región con más y menos contagiados con síntomas no acumulativos.
                4) Región con más y menos contagiados con síntomas acumulativos.
                5) Información de la región seleccionada. 
                6) Salir. 
                ''')
            
                op_graf = input("Ingrese tipo de gráfico (1 - 6): ")
                
            op_graf = int(op_graf)

            if op_graf in opcion_graf:
                if opcion_graf[op_graf - 1] == 1: #Inicio condicional gráfico de contagiados con síntomas no acumulativos.
                    print("Ha seleccionado la opción: ", opcion_graf[op_graf - 1]) #Confirmación de elección e indexar opción.
                    if op in n_regiones: #Condicional de gráfico
                        ## Declaramos valores para el eje x
                        eje_x = ['Arica y P.', 'Tarapaca', 'Antofagasta', 'Atacama', 'Coquimbo', 'Valparaiso', 'Metropolitana', 'Ohiggins', 'Maule', 'Ñuble', 'Biobio', 'Araucania', 'Los Rios', 'Los Lagos', 'Aysen', 'Magallanes']
                        ## Declaramos valores para el eje y
                        eje_y = [ari_sin, tar_sin, ant_sin, ata_sin, coq_sin, val_sin, met_sin, ohg_sin, mau_sin, ñub_sin, bio_sin, ara_sin, lr_sin, lg_sin, ays_sin, mag_sin]
                        plt.figure(figsize=(10,6))
                        plt.bar(eje_x, eje_y)
                        plt.xlabel("Regiones", fontsize = 20, color = "maroon") #Nombre Eje X
                        plt.ylabel("Nro. de contagiados", fontsize = 20, color = "maroon") #Nombre Eje Y
                        plt.title("Gráfico de contagiados con síntomas no acumulativos.", fontsize = 25, color = "black") #Titulo del grafico
                        plt.xticks(rotation = 45)
                        plt.show()  
                elif opcion_graf[op_graf - 1] == 2: #Inicio condicional gráfico de contagiados con síntomas acumulativos.
                    print("Ha seleccionado la opción: ", opcion_graf[op_graf - 1]) #Confirmación de elección e indexar opción.
                    ## Declaramos valores para el eje x
                    eje_x = ['Arica y P.', 'Tarapaca', 'Antofagasta', 'Atacama', 'Coquimbo', 'Valparaiso', 'Metropolitana', 'Ohiggins', 'Maule', 'Ñuble', 'Biobio', 'Araucania', 'Los Rios', 'Los Lagos', 'Aysen', 'Magallanes']
                    ## Declaramos valores para el eje y
                    eje_y = [ari, tar, ant, ata, coq, val, met, ohg, mau, ñub, bio, ara, lr, lg, ays, mag]
                    plt.figure(figsize=(10,6))
                    plt.bar(eje_x, eje_y)
                    plt.xlabel("Regiones", fontsize = 20, color = "maroon") #Nombre Eje X
                    plt.ylabel("Nro. de contagiados", fontsize = 20, color = "maroon") #Nombre Eje Y
                    plt.title("Gráfico de contagiados con síntomas acumulativos.", fontsize = 25, color = "black") #Titulo del grafico
                    plt.xticks(rotation = 45)
                    plt.show()   
                elif opcion_graf[op_graf - 1] == 3:             
                    print("Ha seleccionado la opción: ", opcion_graf[op_graf - 1])
                    mayor1 = 0
                    for x in regiones_sincontagio: #Condicional para calcullar el mayor de contagiados.
                        if x > mayor1:
                            mayor1 = x
                        elif x < mayor1:
                            menor1 = x
                    mayor_s = regiones_sinvalores.index(mayor1)
                    mascontagios1 = regiones[mayor_s]
                    menor_s = regiones_sinvalores.index(menor1)
                    menoscontagios1 = regiones[menor_s]
                    print("\nLa región con más contagios con síntomas no acumulativos es la región", mascontagios1 ,"con un total de", mayor1,"casos")
                    print("La región con menos contagios con síntomas no acumulativos es la región",menoscontagios1,"con un total de", menor1,"casos")  
                        
                elif opcion_graf[op_graf - 1] == 4:              
                    print("Ha seleccionado la opción: ", opcion_graf[op_graf - 1])                    
                    mayor2 = 0
                    for x in regiones_concontagio: #Condicional para calcular el mayor de contagiados.
                        if x > mayor2:
                            mayor2 = x
                        elif x < mayor2: 
                            menor2 = x
                    mayor_c = regiones_convalores.index(mayor2)
                    mascontagios2 = regiones[mayor_c]
                    menor_c = regiones_convalores.index(menor2)
                    menoscontagios2 = regiones[menor_c]
                    print("\nLa región con más contagios con síntomas acumulativos es la región",mascontagios2,"con un total de", mayor2,"casos")
                    print("La región con menos contagios con síntomas acumulativos es la región",menoscontagios2,"con un total de", menor2,"casos")  
                        
                elif opcion_graf[op_graf - 1] == 5:
                    print("Ha seleccionado la opción: ", opcion_graf[op_graf - 1])                    
                    print("\nRegión: ", regiones[op - 1]) #Seleccion de region actual.
                    print("Cantidad total de contagiados: ", regiones_total[op - 1])     
                elif opcion_graf[op_graf - 1] == 6:
                    print("Ha seleccionado la opción: ", opcion_graf[op_graf - 1])                    
                    print("Gracias por utilizar el programa.")
                    break
            else:
                print("Error, ingrese un índice válido")
    else:
        print("ingrese nombre o índice válido de la región, por favor reinicie el programa")
        
